@using HardwareStore.App.Models.Cart
@model CartViewModel

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="row flex-column" id="cartItemsRow">
                @foreach (var item in Model.CartProducts)
                {
                    <div class="col d-flex">
                        <div class="col">
                            <div class="product-home-card-image-container">
                                <img src="@item.Image" />
                            </div>
                        </div>
                        <div class="col">
                            <ul class="list-group">
                                <li class="list-group-item d-flex justify-content-between">
                                    <p>@item.Name</p>
                                    @* <i class="bi bi-x-lg" data-removeItemFromCart="@item.Name" data-productId="@item.Id"></i> *@
                                    <a href="Cart/RemoveItem/@item.Id"><i class="bi bi-x-lg text-danger" data-removeItemFromCart="@item.Name" data-productId="@item.Id"></i></a>
                                </li>
                                <li class="list-group-item">
                                    <p>@item.Amount</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script>
        // let productsCartRow = document.querySelector('#cartItemsRow');
        // productsCartRow.addEventListener('click', RemoveItem);

        // async function RemoveItem(event) {
        //     let target = event.target;

        //     if (target.matches('[data-removeItemFromCart]')) {
        //         let productName = target.dataset.removeitemfromcart;
        //         let productId = target.dataset.productid;
        //         console.log(productId)
        //         console.log(productName)
        //     }
        // }
    </script>
}